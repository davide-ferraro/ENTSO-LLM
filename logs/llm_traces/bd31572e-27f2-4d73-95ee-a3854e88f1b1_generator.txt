# Generator Prompt
 # ENTSO-E Request Generator (Article-Code Driven)

  You generate only a JSON payload of ENTSO-E API requests.
  You are given:

  - The user message (intent).
  - The selected article code context via extracted documentation.
  - Extracted request examples for that article code.
  - Extracted technical documentation (Transparency Platform).
  - EIC codes reference.
  - Current UTC time.

  You never invent schema or parameters beyond what is specified.

  ## What You See in This Prompt

  - Generator instructions (this file).
  - Current UTC time (for periodStart/periodEnd).
  - EIC codes table.
  - Technical documentation for the selected article code (from ENTSOE_Transparency_API_Documentation.md).
  - Request examples for the selected article code (from request_examples.md).
  - Legacy endpoint examples (E-based, optional).
  - User request (last).

  ## Goal

  Produce a single JSON object with a requests array. Each entry has:

  - name: short snake_case.
  - params: ENTSO-E API parameters that conform exactly to the articleâ€™s spec and the provided examples.

  ## Output (JSON only)

  Return valid JSON, no markdown, no explanations:

  {
    "requests": [
      {
        "name": "descriptive_name_snake_case",
        "params": { /* strictly valid ENTSO-E params */ }
      }
    ]
  }

  ## Critical Rules

  1. Schema from docs/examples only: Parameter keys and required/optional fields must match the provided technical documentation and
     request examples. Do not add undocumented keys.
  2. Time format: All times in YYYYMMDDHHMM UTC.
  3. Domain parameter rules (non-negotiable):
      - Load (A65) â†’ outBiddingZone_Domain
      - Prices (A44) â†’ in_Domain and out_Domain (same value)
      - Generation aggregated (A73) â†’ in_Domain (+ psrType when user mentions a fuel/technology)
      - Generation per unit (A75) â†’ in_Domain (Control Area)
      - Physical flows â†’ out_Domain â†’ in_Domain
      - Balancing â†’ controlArea_Domain
  4. DocumentType / ProcessType: Use the exact values from the article spec/examples.
  5. No hallucinated params: If a parameter is not shown or implied by the provided doc/examples, do not include it.
  6. Values: Choose sensible values consistent with the user intent (zones, time window), but never change keys.
  7. Fuel-specific requests: if the user names a technology (wind onshore/offshore, solar, hydro, nuclear, etc.), include the correct `psrType` code.

  ## Final Self-Check (mandatory)

  Before output:

  - All required parameters from the article doc/examples are present.
  - No forbidden/irrelevant parameters are included.
  - Parameter names exactly match the provided examples/docs.
  - JSON is valid and contains only the requests array and its objects.

  Return only the JSON.

  ## Quick Schemas to Prevent Mistakes

  ### 16.1.B / 16.1.C â€” Actual Generation per Production Type (Aggregated)
  - documentType: A75
  - processType: A16 (realised). Never use A14.
  - Required: in_Domain, periodStart, periodEnd
  - psrType: include when user specifies a fuel/technology. Use these codes:
      - B19 = Wind onshore
      - B18 = Wind offshore
      - B16 = Solar
      - B10 = Hydro pumped storage
      - B11 = Hydro run-of-river
      - B12 = Hydro water reservoir
      - B14 = Nuclear
      - B09 = Geothermal
      - B01/B17 = Biomass/Waste (as appropriate)
  - Do NOT add productionType or other keys; use psrType only.


## Current UTC Time
202601170932

## EIC Codes Reference

| Country | EIC Code |
|---------|----------|
| Austria | 10YAT-APG------L |
| Belgium | 10YBE----------2 |
| Czech Republic | 10YCZ-CEPS-----N |
| Denmark (DK1) | 10YDK-1--------W |
| Denmark (DK2) | 10YDK-2--------M |
| Finland | 10YFI-1--------U |
| France | 10YFR-RTE------C |
| Germany-Luxembourg | 10Y1001A1001A82H |
| Great Britain | 10YGB----------A |
| Greece | 10YGR-HTSO-----Y |
| Hungary | 10YHU-MAVIR----U |
| Ireland | 10Y1001A1001A59C |
| Italy (North) | 10Y1001A1001A73I |
| Italy (South) | 10Y1001A1001A788 |
| Netherlands | 10YNL----------L |
| Norway (NO1) | 10YNO-1--------2 |
| Poland | 10YPL-AREA-----S |
| Portugal | 10YPT-REN------W |
| Romania | 10YRO-TEL------P |
| Spain | 10YES-REE------0 |
| Sweden (SE3) | 10Y1001A1001A46L |
| Switzerland | 10YCH-SWISSGRIDZ |

#### 5.3.1 Cross-Border Physical Flows (12.1.G)

Returns aggregated physical energy flows between bidding zones or control areas.

| Property | Value |
|----------|-------|
| **Method** | GET |
| **Endpoint** | `https://web-api.tp.entsoe.eu/api` |

**Important:** Unlike the Web GUI, the API responds with **non-netted values** as data is requested per direction.

**Parameters:**

| Parameter | Required | Value | Description |
|-----------|----------|-------|-------------|
| `documentType` | **[M]** | `A11` | Aggregated energy data report |
| `out_Domain` | **[M]** | EIC Code | Origin Control Area, Bidding Zone, or Country |
| `in_Domain` | **[M]** | EIC Code | Destination Control Area, Bidding Zone, or Country |
| `periodStart` | **[M]** | `yyyyMMddHHmm` | Start datetime |
| `periodEnd` | **[M]** | `yyyyMMddHHmm` | End datetime |

**Example Request:**
```bash
curl --location 'https://web-api.tp.entsoe.eu/api?securityToken=YOUR_TOKEN&documentType=A11&out_Domain=10YDE-RWENET---I&in_Domain=10YBE----------2&periodStart=202308232200&periodEnd=202308242200'
```

**Response Structure:**
- Resolution: `PT15M` (15-minute intervals)
- `businessType`: `A66` (Physical flow)
- Returns time series with position/quantity pairs representing power flow in MW

**Example Response Data:**
```xml
<TimeSeries>
    <mRID>1</mRID>
    <businessType>A66</businessType>
    <in_Domain.mRID codingScheme="A01">10YBE----------2</in_Domain.mRID>
    <out_Domain.mRID codingScheme="A01">10YDE-RWENET---I</out_Domain.mRID>
    <quantity_Measure_Unit.name>MAW</quantity_Measure_Unit.name>
    <curveType>A01</curveType>
    <Period>
        <resolution>PT15M</resolution>
        <Point>
            <position>1</position>
            <quantity>0</quantity>
        </Point>
    </Period>
</TimeSeries>
```

---

## ðŸ“‹ Endpoint 20: Cross-Border Physical Flows (12.1.G)

**Document Type:** `A11`  
**Description:** Actual physical power flows between bidding zones

### âœ… Variant 20.1: Germany â†’ Belgium (1 day)
ðŸ“„ Response: 2.9 KB | **File:** `E20_v1_flows_DE_BE_1day.xml`

```python
{
    "documentType": "A11",
    "out_Domain": "10YDE-RWENET---I",
    "in_Domain": "10YBE----------2",
    "periodStart": "202601072200",
    "periodEnd": "202601082200"
}
```

---

### âœ… Variant 20.2: France â†’ Germany (1 day)
ðŸ“„ Response: 11.2 KB | **File:** `E20_v2_flows_FR_DE_1day.xml`

```python
{
    "documentType": "A11",
    "out_Domain": "10YFR-RTE------C",
    "in_Domain": "10Y1001A1001A82H",
    "periodStart": "202601072200",
    "periodEnd": "202601082200"
}
```

---

### âœ… Variant 20.3: France â†’ Spain (1 day)
ðŸ“„ Response: 2.1 KB | **File:** `E20_v3_flows_FR_ES_1day.xml`

```python
{
    "documentType": "A11",
    "out_Domain": "10YFR-RTE------C",
    "in_Domain": "10YES-REE------0",
    "periodStart": "202601072200",
    "periodEnd": "202601082200"
}
```

---

### âœ… Variant 20.4: Italy â†’ France (1 day)
ðŸ“„ Response: 1.5 KB | **File:** `E20_v4_flows_IT_FR_1day.xml`

```python
{
    "documentType": "A11",
    "out_Domain": "10YIT-GRTN-----B",
    "in_Domain": "10YFR-RTE------C",
    "periodStart": "202601072200",
    "periodEnd": "202601082200"
}
```

---

## ðŸ“‹ Endpoint 49: Physical Flows - Additional Borders (12.1.G)

**Document Type:** `A11`  
**Description:** Actual physical power flows for additional borders

### âœ… Variant 49.1: Switzerland â†’ Italy (1 day)
ðŸ“„ Response: 2.6 KB | **File:** `E49_v1_flows_CH_IT.xml`

```python
{
    "documentType": "A11",
    "out_Domain": "10YCH-SWISSGRIDZ",
    "in_Domain": "10YIT-GRTN-----B",
    "periodStart": "202601072200",
    "periodEnd": "202601082200"
}
```

### âœ… Variant 49.2: Switzerland â†’ Germany (1 day)
ðŸ“„ Response: 7.6 KB | **File:** `E49_v2_flows_CH_DE.xml`

```python
{
    "documentType": "A11",
    "out_Domain": "10YCH-SWISSGRIDZ",
    "in_Domain": "10Y1001A1001A82H",
    "periodStart": "202601072200",
    "periodEnd": "202601082200"
}
```

### âœ… Variant 49.3: Switzerland â†’ France (1 day)
ðŸ“„ Response: 1.5 KB | **File:** `E49_v3_flows_CH_FR.xml`

```python
{
    "documentType": "A11",
    "out_Domain": "10YCH-SWISSGRIDZ",
    "in_Domain": "10YFR-RTE------C",
    "periodStart": "202601072200",
    "periodEnd": "202601082200"
}
```

### âœ… Variant 49.4: Poland â†’ Germany (1 day)
ðŸ“„ Response: 1.5 KB | **File:** `E49_v4_flows_PL_DE.xml`

```python
{
    "documentType": "A11",
    "out_Domain": "10YPL-AREA-----S",
    "in_Domain": "10Y1001A1001A82H",
    "periodStart": "202601072200",
    "periodEnd": "202601082200"
}
```

---

## ðŸ“‹ Endpoint 59: Physical Flows - Nordic Borders (12.1.G)

**Document Type:** `A11`  
**Description:** Actual physical power flows between Nordic countries

### âœ… Variant 59.1: Norway NO1 â†’ Sweden SE3 (1 day)
ðŸ“„ Response: 8.7 KB | **File:** `E59_v1_flows_NO1_SE3.xml`

```python
{
    "documentType": "A11",
    "out_Domain": "10YNO-1--------2",
    "in_Domain": "10Y1001A1001A46L",
    "periodStart": "202601072200",
    "periodEnd": "202601082200"
}
```

### âœ… Variant 59.2: Sweden SE3 â†’ Finland (1 day)
ðŸ“„ Response: 11.0 KB | **File:** `E59_v2_flows_SE3_FI.xml`

```python
{
    "documentType": "A11",
    "out_Domain": "10Y1001A1001A46L",
    "in_Domain": "10YFI-1--------U",
    "periodStart": "202601072200",
    "periodEnd": "202601082200"
}
```

### âœ… Variant 59.3: Denmark DK1 â†’ Norway NO2 (1 day)
ðŸ“„ Response: 4.2 KB | **File:** `E59_v3_flows_DK1_NO2.xml`

```python
{
    "documentType": "A11",
    "out_Domain": "10YDK-1--------W",
    "in_Domain": "10YNO-2--------T",
    "periodStart": "202601072200",
    "periodEnd": "202601082200"
}
```

### âœ… Variant 59.4: Denmark DK1 â†’ Sweden SE3 (1 day)
ðŸ“„ Response: 2.3 KB | **File:** `E59_v4_flows_DK1_SE3.xml`

```python
{
    "documentType": "A11",
    "out_Domain": "10YDK-1--------W",
    "in_Domain": "10Y1001A1001A46L",
    "periodStart": "202601072200",
    "periodEnd": "202601082200"
}
```

---

## ðŸ“‹ Endpoint 60: Physical Flows - Eastern Europe (12.1.G)

**Document Type:** `A11`  
**Description:** Actual physical power flows in Eastern Europe

### âœ… Variant 60.1: Poland â†’ Czech Republic (1 day)
ðŸ“„ Response: 9.3 KB | **File:** `E60_v1_flows_PL_CZ.xml`

```python
{
    "documentType": "A11",
    "out_Domain": "10YPL-AREA-----S",
    "in_Domain": "10YCZ-CEPS-----N",
    "periodStart": "202601072200",
    "periodEnd": "202601082200"
}
```

### âœ… Variant 60.2: Czech Republic â†’ Austria (1 day)
ðŸ“„ Response: 11.2 KB | **File:** `E60_v2_flows_CZ_AT.xml`

```python
{
    "documentType": "A11",
    "out_Domain": "10YCZ-CEPS-----N",
    "in_Domain": "10YAT-APG------L",
    "periodStart": "202601072200",
    "periodEnd": "202601082200"
}
```

### âœ… Variant 60.3: Austria â†’ Hungary (1 day)
ðŸ“„ Response: 11.2 KB | **File:** `E60_v3_flows_AT_HU.xml`

```python
{
    "documentType": "A11",
    "out_Domain": "10YAT-APG------L",
    "in_Domain": "10YHU-MAVIR----U",
    "periodStart": "202601072200",
    "periodEnd": "202601082200"
}
```

### âœ… Variant 60.4: Hungary â†’ Slovakia (1 day)
ðŸ“„ Response: 1.5 KB | **File:** `E60_v4_flows_HU_SK.xml`

```python
{
    "documentType": "A11",
    "out_Domain": "10YHU-MAVIR----U",
    "in_Domain": "10YSK-SEPS-----K",
    "periodStart": "202601072200",
    "periodEnd": "202601082200"
}
```

---

## User Request
Show me cross-border flows between Spain and Portugal

## Generate the JSON:

# Generator Response
{
  "requests": [
    {
      "name": "spain_to_portugal_flow",
      "params": {
        "documentType": "A11",
        "out_Domain": "10YES-REE------0",
        "in_Domain": "10YPT-REN------W",
        "periodStart": "202601170930",
        "periodEnd": "202601180930"
      }
    },
    {
      "name": "portugal_to_spain_flow",
      "params": {
        "documentType": "A11",
        "out_Domain": "10YPT-REN------W",
        "in_Domain": "10YES-REE------0",
        "periodStart": "202601170930",
        "periodEnd": "202601180930"
      }
    }
  ]
}

# Parsed Requests
[
  {
    "name": "spain_to_portugal_flow",
    "params": {
      "documentType": "A11",
      "out_Domain": "10YES-REE------0",
      "in_Domain": "10YPT-REN------W",
      "periodStart": "202601170930",
      "periodEnd": "202601180930"
    }
  },
  {
    "name": "portugal_to_spain_flow",
    "params": {
      "documentType": "A11",
      "out_Domain": "10YPT-REN------W",
      "in_Domain": "10YES-REE------0",
      "periodStart": "202601170930",
      "periodEnd": "202601180930"
    }
  }
]