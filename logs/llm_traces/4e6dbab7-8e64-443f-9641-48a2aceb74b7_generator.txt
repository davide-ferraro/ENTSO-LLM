# Generator Prompt
 # ENTSO-E Request Generator (Article-Code Driven)

  You generate only a JSON payload of ENTSO-E API requests.
  You are given:

  - The user message (intent).
  - The selected article code context via extracted documentation.
  - Extracted request examples for that article code.
  - Extracted technical documentation (Transparency Platform).
  - EIC codes reference.
  - Current UTC time.

  You never invent schema or parameters beyond what is specified.

  ## What You See in This Prompt

  - Generator instructions (this file).
  - Current UTC time (for periodStart/periodEnd).
  - EIC codes table.
  - Technical documentation for the selected article code (from ENTSOE_Transparency_API_Documentation.md).
  - Request examples for the selected article code (from request_examples.md).
  - Legacy endpoint examples (E-based, optional).
  - User request (last).

  ## Goal

  Produce a single JSON object with a requests array. Each entry has:

  - name: short snake_case.
  - params: ENTSO-E API parameters that conform exactly to the article‚Äôs spec and the provided examples.

  ## Output (JSON only)

  Return valid JSON, no markdown, no explanations:

  {
    "requests": [
      {
        "name": "descriptive_name_snake_case",
        "params": { /* strictly valid ENTSO-E params */ }
      }
    ]
  }

  ## Critical Rules

  1. Schema from docs/examples only: Parameter keys and required/optional fields must match the provided technical documentation and
     request examples. Do not add undocumented keys.
  2. Time format: All times in YYYYMMDDHHMM UTC.
  3. Domain parameter rules (non-negotiable):
      - Load (A65) ‚Üí outBiddingZone_Domain
      - Prices (A44) ‚Üí in_Domain and out_Domain (same value)
      - Generation aggregated (A73) ‚Üí in_Domain (+ psrType when user mentions a fuel/technology)
      - Generation per unit (A75) ‚Üí in_Domain (Control Area)
      - Physical flows ‚Üí out_Domain ‚Üí in_Domain
      - Balancing ‚Üí controlArea_Domain
  4. DocumentType / ProcessType: Use the exact values from the article spec/examples.
  5. No hallucinated params: If a parameter is not shown or implied by the provided doc/examples, do not include it.
  6. Values: Choose sensible values consistent with the user intent (zones, time window), but never change keys.
  7. Fuel-specific requests: if the user names a technology (wind onshore/offshore, solar, hydro, nuclear, etc.), include the correct `psrType` code.

  ## Final Self-Check (mandatory)

  Before output:

  - All required parameters from the article doc/examples are present.
  - No forbidden/irrelevant parameters are included.
  - Parameter names exactly match the provided examples/docs.
  - JSON is valid and contains only the requests array and its objects.

  Return only the JSON.

  ## Quick Schemas to Prevent Mistakes

  ### 16.1.B / 16.1.C ‚Äî Actual Generation per Production Type (Aggregated)
  - documentType: A75
  - processType: A16 (realised). Never use A14.
  - Required: in_Domain, periodStart, periodEnd
  - psrType: include when user specifies a fuel/technology. Use these codes:
      - B19 = Wind onshore
      - B18 = Wind offshore
      - B16 = Solar
      - B10 = Hydro pumped storage
      - B11 = Hydro run-of-river
      - B12 = Hydro water reservoir
      - B14 = Nuclear
      - B09 = Geothermal
      - B01/B17 = Biomass/Waste (as appropriate)
  - Do NOT add productionType or other keys; use psrType only.


## Current UTC Time
202601170939

## EIC Codes Reference

| Country | EIC Code |
|---------|----------|
| Austria | 10YAT-APG------L |
| Belgium | 10YBE----------2 |
| Czech Republic | 10YCZ-CEPS-----N |
| Denmark (DK1) | 10YDK-1--------W |
| Denmark (DK2) | 10YDK-2--------M |
| Finland | 10YFI-1--------U |
| France | 10YFR-RTE------C |
| Germany-Luxembourg | 10Y1001A1001A82H |
| Great Britain | 10YGB----------A |
| Greece | 10YGR-HTSO-----Y |
| Hungary | 10YHU-MAVIR----U |
| Ireland | 10Y1001A1001A59C |
| Italy (North) | 10Y1001A1001A73I |
| Italy (South) | 10Y1001A1001A788 |
| Netherlands | 10YNL----------L |
| Norway (NO1) | 10YNO-1--------2 |
| Poland | 10YPL-AREA-----S |
| Portugal | 10YPT-REN------W |
| Romania | 10YRO-TEL------P |
| Spain | 10YES-REE------0 |
| Sweden (SE3) | 10Y1001A1001A46L |
| Switzerland | 10YCH-SWISSGRIDZ |

#### 6.3.4 Unavailability of Transmission Infrastructure (10.1.A&B)

Returns unavailability information for transmission infrastructure (cross-border links).

| Property | Value |
|----------|-------|
| **Method** | GET |
| **Endpoint** | `https://web-api.tp.entsoe.eu/api` |
| **Response** | ZIP file with XML documents |

**Parameters:**

| Parameter | Required | Value | Description |
|-----------|----------|-------|-------------|
| `documentType` | **[M]** | `A78` | Transmission unavailability |
| `Out_Domain` | **[M]** | EIC Code | Origin Control Area or Bidding Zone (optional if mRID present) |
| `In_Domain` | **[M]** | EIC Code | Destination Control Area or Bidding Zone (optional if mRID present) |
| `periodStart` | **[M]** | `yyyyMMddHHmm` | Start datetime |
| `periodEnd` | **[M]** | `yyyyMMddHHmm` | End datetime |
| `BusinessType` | [O] | Code | A53 = Planned maintenance; A54 = Forced unavailability |
| `DocStatus` | [O] | Code | A05 = Active; A09 = Cancelled; A13 = Withdrawn |
| `PeriodStartUpdate` | [O] | `yyyyMMddHHmm` | Filter by update time (start) |
| `PeriodEndUpdate` | [O] | `yyyyMMddHHmm` | Filter by update time (end) |
| `mRID` | [O] | String | Document mRID - retrieves older versions |
| `offset` | [O] | Integer | Pagination offset [0-4800], returns records n+1 to n+200 |

**Example Request:**
```bash
curl --location 'https://web-api.tp.entsoe.eu/api?securityToken=YOUR_TOKEN&documentType=A78&Out_Domain=10YFR-RTE------C&In_Domain=10YBE----------2&periodStart=202312012300&periodEnd=202312022300'
```

**Response Structure:**
- ZIP file with individual outage XML documents
- Each outage includes:
  - `Asset_RegisteredResource`: Transmission asset details (mRID, name, location)
  - `asset_PSRType.psrType`: Asset type (e.g., B21 = transmission line)
  - `Available_Period`: Time periods with available capacity values
  - `docStatus`: Current status (A05=Active, A09=Cancelled)

**Example Response Data:**
```xml
<Unavailability_MarketDocument xmlns="urn:iec62325.351:tc57wg16:451-6:outagedocument:3:0">
    <mRID>A47mJe5e9jml9FeSL6jfKg</mRID>
    <revisionNumber>10</revisionNumber>
    <type>A78</type>
    <docStatus>
        <value>A09</value>
    </docStatus>
    <TimeSeries>
        <businessType>A53</businessType>
        <Asset_RegisteredResource>
            <mRID codingScheme="A01">10T-BE-FR-00007U</mRID>
            <name>CHOOZ220 48 MONCE</name>
            <asset_PSRType.psrType>B21</asset_PSRType.psrType>
            <location.name>MONCEAU (B) - CHOOZ (FR) 220.48</location.name>
        </Asset_RegisteredResource>
        <Available_Period>
            <timeInterval>
                <start>2023-07-01T12:30Z</start>
                <end>2023-07-01T13:00Z</end>
            </timeInterval>
            <resolution>PT30M</resolution>
            <Point>
                <position>1</position>
                <quantity>1850</quantity>
            </Point>
        </Available_Period>
    </TimeSeries>
</Unavailability_MarketDocument>
```

---

#### 6.3.5 Unavailability of Transmission Infrastructure - Available Capacity (10.1.A&B)

Alternative query for transmission unavailability filtered by control area (returns outages affecting a specific area).

| Property | Value |
|----------|-------|
| **Method** | GET |
| **Endpoint** | `https://web-api.tp.entsoe.eu/api` |

**Parameters:**

| Parameter | Required | Value | Description |
|-----------|----------|-------|-------------|
| `documentType` | **[M]** | `A78` | Transmission unavailability |
| `ControlArea_Domain` | **[M]** | EIC Code | Control Area or Bidding Zone (optional if mRID present) |
| `periodStart` | **[M]** | `yyyyMMddHHmm` | Start datetime |
| `periodEnd` | **[M]** | `yyyyMMddHHmm` | End datetime |
| `BusinessType` | [O] | Code | A53 = Planned maintenance; A54 = Forced unavailability |
| `Asset_RegisteredResource.mRID` | [O] | EIC Code | Specific Transmission Asset EIC |
| `DocStatus` | [O] | Code | A05 = Active; A09 = Cancelled; A13 = Withdrawn |
| `PeriodStartUpdate` | [O] | `yyyyMMddHHmm` | Filter by update time (start) |
| `PeriodEndUpdate` | [O] | `yyyyMMddHHmm` | Filter by update time (end) |
| `mRID` | [O] | String | Document mRID - retrieves older versions |
| `offset` | [O] | Integer | Pagination offset [0-4800] |

**Example Request:**
```bash
curl --location 'https://web-api.tp.entsoe.eu/api?securityToken=YOUR_TOKEN&documentType=A78&ControlArea_Domain=10YFR-RTE------C&periodStart=202312012300&periodEnd=202312022300'
```

---

#### 6.3.6 Unavailability of Transmission Infrastructure - Net Position Impact (10.1.A&B)

Query for transmission outages that impact the net position of a specific area (PTDF-based query).

| Property | Value |
|----------|-------|
| **Method** | GET |
| **Endpoint** | `https://web-api.tp.entsoe.eu/api` |

**Parameters:**

| Parameter | Required | Value | Description |
|-----------|----------|-------|-------------|
| `documentType` | **[M]** | `A78` | Transmission unavailability |
| `pTDF_Domain.mRID` | **[M]** | EIC Code | Control Area or Bidding Zone (optional if mRID present) |
| `periodStart` | **[M]** | `yyyyMMddHHmm` | Start datetime |
| `periodEnd` | **[M]** | `yyyyMMddHHmm` | End datetime |
| `BusinessType` | [O] | Code | A53 = Planned maintenance; A54 = Forced unavailability |
| `DocStatus` | [O] | Code | A05 = Active; A09 = Cancelled; A13 = Withdrawn |
| `PeriodStartUpdate` | [O] | `yyyyMMddHHmm` | Filter by update time (start) |
| `PeriodEndUpdate` | [O] | `yyyyMMddHHmm` | Filter by update time (end) |
| `Asset_RegisteredResource.mRID` | [O] | EIC Code | Transmission Asset EIC |
| `mRID` | [O] | String | Document mRID |
| `offset` | [O] | Integer | Pagination offset [0-4800] |

**Example Request:**
```bash
curl --location 'https://web-api.tp.entsoe.eu/api?securityToken=YOUR_TOKEN&documentType=A78&pTDF_Domain.mRID=10YBE----------2&periodStart=202312012300&periodEnd=202312022300'
```

---

## üìã Endpoint 25: Unavailability of Transmission Infrastructure (10.1.A&B)

**Document Type:** `A78`  
**Description:** Planned and forced outages of transmission lines

### ‚úÖ Variant 25.1: France ‚Üí Belgium (1 day)
üìÑ Response: 2.8 KB | **File:** `E25_v1_transout_FR_BE_1day.xml`

```python
{
    "documentType": "A78",
    "Out_Domain": "10YFR-RTE------C",
    "In_Domain": "10YBE----------2",
    "periodStart": "202601072200",
    "periodEnd": "202601082200"
}
```

---

### ‚úÖ Variant 25.2: Germany ‚Üí France (1 day)
üìÑ Response: 0.9 KB | **File:** `E25_v2_transout_DE_FR_1day.xml`

```python
{
    "documentType": "A78",
    "Out_Domain": "10Y1001A1001A82H",
    "In_Domain": "10YFR-RTE------C",
    "periodStart": "202601072200",
    "periodEnd": "202601082200"
}
```

---

### ‚úÖ Variant 25.3: France ‚Üí Spain (1 day)
üìÑ Response: 1.1 KB | **File:** `E25_v3_transout_FR_ES_1day.xml`

```python
{
    "documentType": "A78",
    "Out_Domain": "10YFR-RTE------C",
    "In_Domain": "10YES-REE------0",
    "periodStart": "202601072200",
    "periodEnd": "202601082200"
}
```

---

### ‚úÖ Variant 25.4: Austria ‚Üí Italy (1 day)
üìÑ Response: 6.7 KB | **File:** `E25_v4_transout_AT_IT_1day.xml`

```python
{
    "documentType": "A78",
    "Out_Domain": "10YAT-APG------L",
    "In_Domain": "10YIT-GRTN-----B",
    "periodStart": "202601072200",
    "periodEnd": "202601082200"
}
```

---

## üìã Endpoint 39: Transmission Outages - Control Area (10.1.A&B)

**Document Type:** `A78` with `ControlArea_Domain`  
**Status:** ‚ö†Ô∏è No data available - all 4 variants returned empty responses

### ‚ö†Ô∏è Variant 39.1: France
```python
{"documentType": "A78", "ControlArea_Domain": "10YFR-RTE------C", "periodStart": "202601072200", "periodEnd": "202601082200"}
```

### ‚ö†Ô∏è Variant 39.2: Germany-Luxembourg
```python
{"documentType": "A78", "ControlArea_Domain": "10Y1001A1001A82H", "periodStart": "202601072200", "periodEnd": "202601082200"}
```

### ‚ö†Ô∏è Variant 39.3: Belgium
```python
{"documentType": "A78", "ControlArea_Domain": "10YBE----------2", "periodStart": "202601072200", "periodEnd": "202601082200"}
```

### ‚ö†Ô∏è Variant 39.4: Netherlands
```python
{"documentType": "A78", "ControlArea_Domain": "10YNL----------L", "periodStart": "202601072200", "periodEnd": "202601082200"}
```

---

## üìã Endpoint 63: Transmission Outages - Additional (10.1.A&B)

**Document Type:** `A78`  
**Description:** Planned and forced outages of transmission lines

### ‚úÖ Variant 63.1: Germany ‚Üí Poland (1 day)
üìÑ Response: 12.0 KB | **File:** `E63_v1_transout_DE_PL.xml`

```python
{
    "documentType": "A78",
    "Out_Domain": "10Y1001A1001A82H",
    "In_Domain": "10YPL-AREA-----S",
    "periodStart": "202601072200",
    "periodEnd": "202601082200"
}
```

### ‚úÖ Variant 63.2: Czech Republic ‚Üí Austria (1 day)
üìÑ Response: 0.9 KB | **File:** `E63_v2_transout_CZ_AT.xml`

```python
{
    "documentType": "A78",
    "Out_Domain": "10YCZ-CEPS-----N",
    "In_Domain": "10YAT-APG------L",
    "periodStart": "202601072200",
    "periodEnd": "202601082200"
}
```

### ‚úÖ Variant 63.3: Switzerland ‚Üí Italy (1 day)
üìÑ Response: 0.8 KB | **File:** `E63_v3_transout_CH_IT.xml`

```python
{
    "documentType": "A78",
    "Out_Domain": "10YCH-SWISSGRIDZ",
    "In_Domain": "10YIT-GRTN-----B",
    "periodStart": "202601072200",
    "periodEnd": "202601082200"
}
```

### ‚úÖ Variant 63.4: Belgium ‚Üí Netherlands (1 day)
üìÑ Response: 1.9 KB | **File:** `E63_v5_transout_BE_NL.xml`

```python
{
    "documentType": "A78",
    "Out_Domain": "10YBE----------2",
    "In_Domain": "10YNL----------L",
    "periodStart": "202601072200",
    "periodEnd": "202601082200"
}
```

---

## E39: Transmission Outages - Control Area (10.1.A&B)

**Document Type:** `A78` with `ControlArea_Domain`  
**Article Reference:** 10.1.A&B - Transmission outages by control area

### Why No Data?
- Most TSOs publish outages by **border** (in/out domain), not by control area
- The `ControlArea_Domain` parameter is less commonly supported
- Use border-based queries for better results

### Tested Parameters
- Control Areas: France, Germany-Luxembourg, Belgium, Netherlands, Spain, Italy

### Recommendation
Use **Endpoint 25 (Transmission Infrastructure Unavailability)** with `in_Domain` and `out_Domain` parameters instead.

---

## User Request
Show me transmission unavailability in France in the past 3 years

## Generate the JSON:

# Generator Response
{
    "requests": [
        {
            "name": "transmission_unavailability_france_past_3_years",
            "params": {
                "documentType": "A78",
                "ControlArea_Domain": "10YFR-RTE------C",
                "periodStart": "202301170939",
                "periodEnd": "202601170939"
            }
        }
    ]
}

# Parsed Requests
[
  {
    "name": "transmission_unavailability_france_past_3_years",
    "params": {
      "documentType": "A78",
      "ControlArea_Domain": "10YFR-RTE------C",
      "periodStart": "202301170939",
      "periodEnd": "202601170939"
    }
  }
]